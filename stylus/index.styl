widerthan(var)
    condition = 'screen and (min-width: %s)' % var
    @media condition
        {block}

narrowerthan(var)
    condition = 'screen and (max-width: %s)' % var
    @media condition
        {block}

.index
    main
        margin-top: 5rem
        display: grid
        grid-template-columns: 1fr
        // grid-template-rows:  repeat(auto,auto)
        grid-row-gap 2rem
        

        .grid-item
            margin 1rem 
            margin-top: 3rem
            display: grid
            will-change: opacity
            .proj-title
                grid-row 2/3
                z-index: 5
                font-size: 3.5rem
                // opacity .75

                transition: all 300ms ease-out

                h1
                    font-size: inherit
                    margin: 0
                    line-height: 1
                    padding-bottom: .1em
                    padding-top: .1em

            .project-img
                display: grid
                grid-template: 1fr / 1fr 
                grid-row 1/2
                max-width  100vw
                overflow hidden
                justify-content: center
                will-change: opacity
                img
                    height 50vh   
                    object-fit: cover
                    justify-self: center
                    grid-area: 1 / 2 / 1 / 2
                &::after
                    grid-area: 1 / 2 / 1 / 2
                    content: ''
                    z-index 30
                    opacity 0
                    background-color: var(--pcol) 
                    transition: all 300ms ease-out
                    mix-blend-mode: hue   


            .genre    
                grid-row 3/4
                font-size: 1rem
                line-height: 1.3
                margin: .2em
                // opacity .75

            &:hover,&:focus,&:active

                .project-img::after
                    opacity 100%   
                .proj-title,.genre
                    opacity: .95

    +widerthan(500px)
        main
            margin 1rem .5rem 0rem 2rem
            // grid-gap: 7rem
            .grid-item
                grid-template-columns: .5fr 6fr 9fr 6fr .5fr  
                grid-row 1fr 1fr 1fr

                .project-img  

                    grid-column: 3/5   
                    grid-row 1/2
                    min-height: 15rem
                    align-content: center

                    img
                        height: auto
                        // max-height: 50v
                        width: 100%

                .proj-title
                    grid-row 1/2
                    grid-column: 1/3
                    font-size: 5rem
                    // margin-top: -.7em

                .genre
                    grid-row 2/3
                    grid-column: 2/4



    +widerthan(1200px)
        main
            margin-top: 10rem
            display: grid
            grid-template-columns: 1fr 1fr 1fr 1fr 1fr
            grid-row repeat(auto,auto)
            grid-row-gap 15rem
            margin 0 5vw
             

            .grid-item
                margin 0rem 
                display: grid
                grid-template-columns: repeat(11,1fr)
                grid-template-rows:repeat(4, min-content)

                .project-img
                    display: grid
                    height: 27.5rem  
                    // min-height: 45vh
                    justify-content: center
                    align-content: center
                    img
                        height 100%
                        width 100%
                        object-fit: cover
                        justify-self: center
                        align-self: center

                .genre
                    margin: .2em
                    margin-top .6em
                    font-size: 1.2rem 
 
                .proj-title
                    z-index: 5
                    font-size: 4rem
                    // margin-top: -1em 
                    h1 
                        margin: 0
                        line-height: 1
                        padding-bottom: .1em

                --rad: 0px
                &:nth-child(2n+1)
                    grid-column: span all/-1

                    .proj-title
                        grid-row 2/3 
                        grid-column: 5/-1
                        text-align: left 
                        
                      
                    .project-img
                        grid-row 1/2
                        grid-column: 5/-1
                        border-top-right-radius: var(--rad)
                        border-bottom-right-radius: var(--rad)
                    .genre    
                        grid-row 3/4
                        grid-column: 5/-1
                        padding-right: 1rem

                &:nth-child(2n+2)
                    grid-column: 1/span all
        
                    .proj-title
                        text-align: left
                        grid-row 2/3
                        grid-column 1/8
                        align-content: left
                        padding-left: 1rem
                        
                    .project-img
                        border-top-left-radius: var(--rad)
                        border-bottom-left-radius: var(--rad)
                        grid-column: 1/8
                        grid-row 1/2

                    .genre
                        padding-left: 1rem      
                        grid-row 3/4
                        grid-column: 1/8
                        align-content: left


    +widerthan(1400px)
        main
            margin-top: 10rem
            display: grid
            grid-template-columns: 1fr 1fr 1fr 1fr 1fr
            grid-row repeat(auto,auto)
            grid-row-gap 15rem
            margin 0 8vw
             
.in-progress
    *
        opacity 60%
    // :hover
    //     opacity 60% 
    

    &:hover, &&:focus
        .project-img::after
            opacity 0%   !important
