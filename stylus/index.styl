widerthan(var)
    condition = 'screen and (min-width: %s)' % var
    @media condition
        {block}

narrowerthan(var)
    condition = 'screen and (max-width: %s)' % var
    @media condition
        {block}

.index
    main
        grid-template-columns: 1fr
        display: grid
        // grid-template-rows: repeat(7,40vh)
        grid-gap: 5rem
        margin-left: 3vw
        margin-right: 5vw
        +narrowerthan(900px)
            margin-right 7vw    
        +narrowerthan(700px)
            margin-right 8vw  
        +narrowerthan(550px)
            margin-right 9vw      
        +narrowerthan(450px)
            margin-right 13vw    



   .grid-item 
        ul.genre
            display: flex
            grid-column-end: span all
            grid-column-start: 2
            grid-row-start 2
            margin-top: 0
            z-index: 10
            +narrowerthan(500px)
                max-height: 50vh
            li
                margin-right: 1rem
                transition: color 0.3s ease-out
                font-size: 1.25rem
                // grid-column-end: span 4
                // writing-mode: vertical-rl
        a.proj-title
            z-index 50
            h1
                margin: 0
                padding: 0
                z-index: 10
                transition: color 0.3s ease-out
                font-size: 9vw
                +narrowerthan(1400px)
                    font-size: 12vw
                +narrowerthan(1200px)
                    font-size: 14vw
                +narrowerthan(1000px)
                    font-size: 18vw
                +narrowerthan(800px)
                    font-size: 19vw
                // +narrowerthan(700px)
                //     font-size: 20vw
        a.proj-img-link
            // z-index 1
            display: grid
            height 100%
            img
                z-index: 1
                object-fit: cover
                object-position: 50% 50% 
            &::after
                content: ''
                z-index 30
                opacity 0
                background-color: var(--py-col) 
                transition:all 300ms ease-out
                mix-blend-mode: hue

                // transition background-color 300ms ease-out
                +narrowerthan(500px)
                    background-color: var(--bg-col)
                    opacity:40%
        &:hover
            h1
                color: var(--py-col) 
            li
                color: var(--py-col)
            a.proj-img-link::after

                opacity 1      
                +narrowerthan(500px)
                    opacity 0

    .grid-item
        align-content: top 
        align-items: flex-start
        display: grid
        grid-template-columns: repeat(18,1fr)
        grid-template-rows: repeat(5,1fr)
        grid-row-gap: 0.2rem
        height: 30rem
        +narrowerthan(500px)
            height 40vh
        // max-height:m
        a.proj-title
            grid-column: 1/-1
            grid-row: 1/2
        a.proj-img-link
            grid-column:8/span all
            +narrowerthan(500px)
                grid-column-start: 1

            grid-row: 1/span all
            display: grid
            // max-height: 50vh
            // @media (orientation landscape)
                
            img
                grid-row: 1/-1
                grid-column: 1/-1
                
                object-fit: cover
                width: 100%
                height 100%
            &::after
                // position: absolute
                // top: 0
                // bottom: 0
                // right: 0
                // left 0
                grid-row 1/-1
                grid-column: 1/-1
            // mix-blend-mode: brighten
        .hover-overlay
            grid-row 1/-1
            grid-column: 1/-1 